!function(e){e(function(){const o=e("#new-quote-button"),t=e(".entry-content"),n=e(".entry-title"),u=e(".source"),r=e("#quote-submission-form");let s="";o.on("click",function(o){o.preventDefault(),function(){s=document.URL;const o=quotesondev_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1";e.ajax({url:o,method:"GET",dataType:"JSON"}).done(function(e){history.pushState(null,null,quotesondev_vars.home_url+"/"+e[0].slug),t.empty(),t.append(e[0].content.rendered),n.empty(),n.append(`&mdash;${e[0].title.rendered}`),u.empty(),e[0]._qod_quote_source_url.length>0?u.append(`, &nbsp; <a href="${e[0]._qod_quote_source_url}">${e[0]._qod_quote_source}</a>`):e[0]._qod_quote_source>0?u.append(`, &nbsp; ${e[0]._qod_quote_source}`):u.append("")}).fail(function(){t.append("Sorry, Somethings gone wrong!")})}()}),e(window).on("popstate",function(){window.location.replace(s)}),r.on("submit",function(o){o.preventDefault(),function(){const o=e("#quote-author").val(),t=e("#quote-content").val(),n=e("#quote-source").val(),u=e("#quote-source-url").val();e.ajax({url:quotesondev_vars.rest_url+"wp/v2/posts",method:"POST",data:{title:o,content:t,_qod_quote_source:n,_qod_quote_source_url:u,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-NONCE",quotesondev_vars.nonce)}}).done(function(){r.slideUp(1e3),r.parent().append("<h3>Thanks, your submission was recieved!</h3>")}).fail(function(){r.empty(),r.append("<h3>Sorry, please try again later.</h3>")})}()})})}(jQuery);